/**
 * ParticleJS
 * @author XHiddenProjects
 * @version 1.0.4 
 */
!function(t){"use strict";class e{constructor(t,e){this.name=t,this.config=e}toOptions(t){return"function"==typeof this.config?this.config(t):this.config}}const i="undefined"!=typeof globalThis?globalThis:t;i.ParticleJS=class{static Particles={};constructor(t,e){if(this.container="string"==typeof t?document.querySelector(t):t,!this.container)throw new Error("ParticleEngine: container not found.");this.options=this._withDefaults(e),this.dpr=this.options.retina_detect?Math.max(1,window.devicePixelRatio??1):1,this.canvas=this._ensureCanvas(this.container),this.ctx=this.canvas.getContext("2d"),this.pointer={active:!1,x:0,y:0,lastClick:0},this.particles=[],this.imagesCache=new Map,this.running=!1,this._rafId=0,this._lastTs=0,this._resizeRaf=0,this.options.interactivity?.events?.resize&&window.addEventListener("resize",(()=>this._resize()),{passive:!0}),this._bindEvents(),this._resize(),this._populate()}play(){if(this.running)return;this.running=!0,this._lastTs=performance.now();const t=e=>{if(!this.running)return;const i=Math.min(.05,(e-this._lastTs)/1e3);this._lastTs=e,this._step(i),this._rafId=requestAnimationFrame(t)};this._rafId=requestAnimationFrame(t)}pause(){this.running&&(this.running=!1,cancelAnimationFrame(this._rafId))}destroy(){this.pause(),this._unbindEvents(),this.canvas?.parentElement===this.container&&this.container.removeChild(this.canvas)}setScene(t){if(!(t instanceof e))throw new Error("ParticleJS.setScene: only ParticleScene instances are supported.");const i=t.toOptions(this);return this.options=this._withDefaults(i),this.dpr=this.options.retina_detect?Math.max(1,window.devicePixelRatio??1):1,this.canvas&&(this.canvas.style.background=this.options.background??"transparent"),this._unbindEvents(),this._bindEvents(),this._resize(),this._populate(),this}_withDefaults(t){return this._merge({retina_detect:!0,background:"transparent",particles:{number:{value:60,density:{enable:!0,value_area:800},max:300},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:.6,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:4,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#fff",opacity:.4,width:1},physics:{drag:.98,gravity:0},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200},behavior:"default",rocket:{thrust:120},slide:{stiffness:4},swirl:{strength:60}}},interactivity:{detect_on:"container",events:{onhover:{enable:!1,mode:"grab"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:200,size:20,duration:.4,opacity:.8,speed:3},repulse:{distance:100,duration:.4},push:{particles_nb:4},remove:{particles_nb:2},explode:{power:300},rocketBoost:{power:180}}}},t??{})}_ensureCanvas(t){let e=t.querySelector("canvas.particle-js");if(!e){e=document.createElement("canvas"),e.className="particle-js",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="0",e.style.pointerEvents="none",e.setAttribute("aria-hidden","true");"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(e)}return e.style.background=this.options.background??"transparent",e}_bindEvents(){const t=this.options.interactivity.detect_on,e="window"===t?window:"canvas"===t?this.canvas:"container"===t?this.container:t,i=t=>{const{x:e,y:i}=this._pointerPos(t);this.pointer.x=e,this.pointer.y=i,this.pointer.active=!0},s=()=>{this.pointer.active=!1},a=()=>{this.pointer.lastClick=performance.now();const t=this.options.interactivity.events.onclick?.mode;this._applyClickMode(t)};e.addEventListener("mousemove",i,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("mouseleave",s,{passive:!0}),e.addEventListener("touchend",s,{passive:!0}),e.addEventListener("click",a),this._listeners={target:e,moveHandler:i,leaveHandler:s,clickHandler:a}}_unbindEvents(){if(!this._listeners)return;const{target:t,moveHandler:e,leaveHandler:i,clickHandler:s}=this._listeners;t.removeEventListener("mousemove",e),t.removeEventListener("touchmove",e),t.removeEventListener("mouseleave",i),t.removeEventListener("touchend",i),t.removeEventListener("click",s),this._listeners=null}_pointerPos(t){const e=this.options.interactivity.detect_on,i=t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX,s=t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY,a=("window"===e?this.container:"canvas"===e?this.canvas:"container"===e?this.container:e).getBoundingClientRect(),n=i-a.left,o=s-a.top;return{x:n*this.dpr,y:o*this.dpr}}_populate(){this.particles.length=0;const t=this.options.particles.number,e=this.canvas.width*this.canvas.height/(this.dpr*this.dpr);let i=t.value;if(t.density?.enable){const s=e/Math.max(1,t.density.value_area??800);i=Math.max(1,Math.round(t.value*s))}const s=Math.max(1,t.max??300);i=Math.min(i,s);for(let t=0;t<i;t++)this.particles.push(this._spawnParticle())}_spawnParticle(){const{particles:t}=this.options,{width:e,height:i}=this.canvas,s=Math.random()*e,a=Math.random()*i,n=Array.isArray(t.move.speed)?Math.floor(Math.random()*(t.move.speed[1]-t.move.speed[0]+1))+t.move.speed[0]:t.move.speed*this.dpr,o=this._directionVector(t.move.direction),r=t.move.straight,h=t.move.random;let c,l;if(r)c=o.x*n,l=o.y*n;else{const t=Math.atan2(o.y,o.x)+(h?(Math.random()-.5)*Math.PI:0);c=Math.cos(t)*n*(.5+Math.random()),l=Math.sin(t)*n*(.5+Math.random())}const p=t.size.value,d=t.size.random?p*(.5+Math.random()):p,y=t.opacity.value,v=t.opacity.random?y*(.5+Math.random()):y,m={x:s,y:a,vx:c,vy:l,ax:0,ay:0,size:d,baseSize:d,opacity:v,baseOpacity:v,fillStyle:this._pickColor(t.color.value),strokeStyle:t.shape.stroke?.width>0?t.shape.stroke.color:null,image:null};return"image"===t.shape.type&&t.shape.image?.src&&this._loadImage(t.shape.image.src).then((t=>m.image=t)),m}_step(t){const e=this.ctx;e.save(),e.clearRect(0,0,this.canvas.width,this.canvas.height),e.restore();for(const i of this.particles)this._updateParticle(i,t),this._drawParticle(e,i);if(this._linkParticles(e),this.pointer.active&&this.options.interactivity.events.onhover.enable){"grab"===this.options.interactivity.events.onhover.mode&&this._drawGrabLines(e)}}_updateParticle(t,e){const i=this.options.particles.move;if(i.attract?.enable){const e=this.canvas.width/2,s=this.canvas.height/2,a=e-t.x,n=s-t.y,o=a*a+n*n,r=Math.min(4e-5*this.dpr,1/Math.max(1,o));t.vx+=a*r*(i.attract.rotateX/1e3),t.vy+=n*r*(i.attract.rotateY/1e3)}if(this.pointer.active&&this.options.interactivity.events.onhover.enable){const i=this.options.interactivity.events.onhover.mode,s=t.x-this.pointer.x,a=t.y-this.pointer.y,n=Math.hypot(s,a),o=this.options.interactivity.modes;if("repulse"===i&&n<o.repulse.distance*this.dpr){const i=Math.max(1e-4,o.repulse.distance*this.dpr-n),r=Math.atan2(a,s),h=i/(o.repulse.distance*this.dpr)*400*e;t.vx+=Math.cos(r)*h,t.vy+=Math.sin(r)*h}else if("bubble"===i&&n<o.bubble.distance*this.dpr){const e=1-n/(o.bubble.distance*this.dpr);t.size=t.baseSize+(o.bubble.size-t.baseSize)*e,t.opacity=t.baseOpacity+(o.bubble.opacity-t.baseOpacity)*e}else"slide"===i?(t.vx+=.5*(this.pointer.x-t.x)*e,t.vy+=.2*(this.pointer.y-t.y)*e):(t.size+=(t.baseSize-t.size)*Math.min(1,4*e),t.opacity+=(t.baseOpacity-t.opacity)*Math.min(1,4*e))}const s=(performance.now()-this.pointer.lastClick)/1e3;if(this.options.interactivity.events.onclick.enable&&"bubble"===this.options.interactivity.events.onclick.mode&&s<this.options.interactivity.modes.bubble.duration){const e=t.x-this.pointer.x,i=t.y-this.pointer.y,s=Math.hypot(e,i),a=this.options.interactivity.modes;if(s<a.bubble.distance*this.dpr){const e=1-s/(a.bubble.distance*this.dpr);t.size=t.baseSize+(a.bubble.size-t.baseSize)*e,t.opacity=t.baseOpacity+(a.bubble.opacity-t.baseOpacity)*e}}const a=this.options.particles.physics??{},n=Math.max(0,Math.min(1,a.drag??1)),o=(a.gravity??0)*this.dpr,r=i.behavior??"default";if("rocket"===r){const s=(i.rocket?.thrust??0)*this.dpr;t.vy-=s*e}else if("slide"===r)t.vy+=(0-t.vy)*Math.min(1,e*(i.slide?.stiffness??4));else if("swirl"===r){const s=this.canvas.width/2,a=this.canvas.height/2,n=s-t.x,o=a-t.y,r=Math.hypot(n,o)+1e-4,h=(i.swirl?.strength??60)*this.dpr;t.vx+=-o/r*h*e,t.vy+=n/r*h*e}t.vy+=o*e;const h=n**(60*e);t.vx*=h,t.vy*=h,t.x+=t.vx*e,t.y+=t.vy*e,"bounce"===this.options.particles.move.out_mode?((t.x<0||t.x>this.canvas.width)&&(t.vx*=-1),(t.y<0||t.y>this.canvas.height)&&(t.vy*=-1),t.x=Math.max(0,Math.min(this.canvas.width,t.x)),t.y=Math.max(0,Math.min(this.canvas.height,t.y))):(t.x<-50&&(t.x=this.canvas.width+50),t.x>this.canvas.width+50&&(t.x=-50),t.y<-50&&(t.y=this.canvas.height+50),t.y>this.canvas.height+50&&(t.y=-50))}_drawParticle(t,e){t.save(),t.globalAlpha=Math.max(0,Math.min(1,e.opacity)),t.fillStyle=e.fillStyle,e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=this.options.particles.shape.stroke.width*this.dpr);switch(this.options.particles.shape.type){case"circle":t.beginPath(),t.arc(e.x,e.y,e.size*this.dpr,0,2*Math.PI),t.closePath(),e.strokeStyle&&t.stroke(),t.fill();break;case"edge":{const i=e.size*this.dpr;t.beginPath(),t.rect(e.x-i/2,e.y-i/2,i,i),e.strokeStyle&&t.stroke(),t.fill(),t.closePath();break}case"triangle":{const i=e.size*this.dpr;t.beginPath(),t.moveTo(e.x,e.y-i/Math.sqrt(3)),t.lineTo(e.x-i/2,e.y+i/(2*Math.sqrt(3))),t.lineTo(e.x+i/2,e.y+i/(2*Math.sqrt(3))),t.closePath(),e.strokeStyle&&t.stroke(),t.fill();break}case"polygon":{const i=Math.max(3,this.options.particles.shape.polygon.nb_sides??5),s=e.size*this.dpr;t.beginPath();for(let a=0;a<i;a++){const n=a/i*Math.PI*2,o=e.x+s*Math.cos(n),r=e.y+s*Math.sin(n);0===a?t.moveTo(o,r):t.lineTo(o,r)}t.closePath(),e.strokeStyle&&t.stroke(),t.fill();break}case"image":if(e.image&&e.image.complete){const i=(this.options.particles.shape.image.width??e.size)*this.dpr,s=(this.options.particles.shape.image.height??e.size)*this.dpr;t.drawImage(e.image,e.x-i/2,e.y-s/2,i,s)}else t.beginPath(),t.arc(e.x,e.y,e.size*this.dpr,0,2*Math.PI),t.closePath(),t.fill();break;default:t.beginPath(),t.arc(e.x,e.y,e.size*this.dpr,0,2*Math.PI),t.closePath(),t.fill()}t.restore()}_linkParticles(t){const e=this.options.particles.line_linked;if(!e.enable)return;const i=e.distance*this.dpr,s=Math.max(1,i),a=Math.max(1,Math.ceil(this.canvas.width/s)),n=Math.max(1,Math.ceil(this.canvas.height/s)),o=new Array(a*n);for(let t=0;t<o.length;t++)o[t]=[];const r=this.particles;for(let t=0;t<r.length;t++){const e=r[t],i=Math.min(a-1,Math.max(0,Math.floor(e.x/s)));o[Math.min(n-1,Math.max(0,Math.floor(e.y/s)))*a+i].push(t)}t.save(),t.lineWidth=e.width*this.dpr,t.strokeStyle=this._rgba(e.color,e.opacity);for(let h=0;h<r.length;h++){const c=r[h],l=Math.min(a-1,Math.max(0,Math.floor(c.x/s))),p=Math.min(n-1,Math.max(0,Math.floor(c.y/s)));for(let s=l-1;s<=l+1;s++)if(!(s<0||s>=a))for(let l=p-1;l<=p+1;l++){if(l<0||l>=n)continue;const p=o[l*a+s];for(let s=0;s<p.length;s++){const a=p[s];if(a<=h)continue;const n=r[a],o=c.x-n.x,l=c.y-n.y,d=Math.hypot(o,l);if(d<=i){const s=Math.min(1,e.opacity*(1-d/i));t.globalAlpha=s,t.beginPath(),t.moveTo(c.x,c.y),t.lineTo(n.x,n.y),t.stroke()}}}}t.restore()}_drawGrabLines(t){const e=this.options.interactivity.modes.grab,i=e.distance*this.dpr;t.save(),t.lineWidth=this.options.particles.line_linked.width*this.dpr,t.strokeStyle=this._rgba(this.options.particles.line_linked.color,e.line_linked.opacity);for(const s of this.particles){const a=Math.hypot(s.x-this.pointer.x,s.y-this.pointer.y);if(a<=i){const n=Math.min(1,e.line_linked.opacity*(1-a/i));t.globalAlpha=n,t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(this.pointer.x,this.pointer.y),t.stroke()}}t.restore()}_applyClickMode(t){if(!t)return;const e=this.options.interactivity.modes,i=Math.max(1,this.options.particles.number.max??300);switch(t){case"push":{const t=e.push.particles_nb,s=Math.max(0,i-this.particles.length),a=Math.min(t,s);for(let t=0;t<a;t++)this.particles.push(this._spawnParticle());break}case"remove":{const t=Math.min(e.remove.particles_nb,this.particles.length);this.particles.splice(0,t);break}case"repulse":for(const t of this.particles){const e=t.x-this.pointer.x,i=t.y-this.pointer.y,s=Math.hypot(e,i)||1,a=Math.min(600,6e3/s);t.vx+=e/s*a,t.vy+=i/s*a}break;case"bubble":break;case"explode":{const t=e.explode?.power??300;for(const e of this.particles){const i=e.x-this.pointer.x,s=e.y-this.pointer.y,a=Math.hypot(i,s)||1,n=t/a;e.vx+=i/a*n,e.vy+=s/a*n}break}case"rocketBoost":{const t=e.rocketBoost?.power??180;for(const e of this.particles)e.vy-=t*this.dpr*.02;break}}}_resize(){this._resizeRaf&&cancelAnimationFrame(this._resizeRaf),this._resizeRaf=requestAnimationFrame((()=>{const t=this.container.getBoundingClientRect();this.canvas.width=Math.max(1,Math.floor(t.width*this.dpr)),this.canvas.height=Math.max(1,Math.floor(t.height*this.dpr)),this.options.interactivity.events.resize&&this._populate()}))}_merge(t,e){if(Array.isArray(t)||Array.isArray(e))return e??t;if("object"==typeof t&&null!==t&&"object"==typeof e&&null!==e){const i={...t};for(const s of Object.keys(e))i[s]=this._merge(t[s],e[s]);return i}return e??t}_directionVector(t){const e={none:{x:Math.random()-.5,y:Math.random()-.5},top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-right":{x:Math.SQRT1_2,y:-Math.SQRT1_2},"top-left":{x:-Math.SQRT1_2,y:-Math.SQRT1_2},"bottom-right":{x:Math.SQRT1_2,y:Math.SQRT1_2},"bottom-left":{x:-Math.SQRT1_2,y:Math.SQRT1_2}};return e[t]??e.none}_pickColor(t){return Array.isArray(t)?t[Math.floor(Math.random()*t.length)]:t}_rgba(t,e){const i=this._hexToRgb(t);if(!i)return`rgba(255, 255, 255, ${Math.max(0,Math.min(1,e))})`;const{r:s,g:a,b:n}=i;return`rgba(${s}, ${a}, ${n}, ${Math.max(0,Math.min(1,e))})`}_hexToRgb(t){if(!t)return null;let e=(""+t).replace("#","").trim();3===e.length&&(e=e.split("").map((t=>t+t)).join(""));const i=parseInt(e,16);return Number.isNaN(i)?null:{r:i>>16&255,g:i>>8&255,b:255&i}}_loadImage(t){if(this.imagesCache.has(t))return this.imagesCache.get(t);const e=new Image;e.crossOrigin="anonymous";const i=new Promise(((i,s)=>{e.onload=()=>i(e),e.onerror=s,e.src=t}));return this.imagesCache.set(t,i),i}},i.ParticleScene=e}("undefined"!=typeof window?window:this);
